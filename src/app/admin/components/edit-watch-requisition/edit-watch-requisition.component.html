<app-loading class="loading" *ngIf="loading"></app-loading>

<div class="container" *ngIf="!loading">
  <p class="title">{{ disabled ? "Ver" : "Editar" }} Requisici칩n</p>
  <p class="text" *ngIf="!disabled">Cambia las cantidades si es necesario, al confirmar la requisici칩n pasar치 a ser activa</p>
  <div class="card-wrapper">
    @for (req of data.requisition.productsRequisition; track req) {
      <div class="card-container">
        <div class="card">
          <p class="text name">{{ req.product.name }}</p>
          <mat-form-field class="quantity">
            <mat-label>Cantidad</mat-label>
            <input
              [(ngModel)]="req.quantity"
              [readonly]="disabled"
              [max]="maxQuantity(req.product)"
              matInput
              type="number"
            >
          </mat-form-field>
        </div>
        <p class="max" *ngIf="!disabled">Disponible: {{ maxQuantity(req.product) }}</p>
      </div>
    }
  </div>
  <mat-error class="error" *ngIf="error">No puedes asignar m치s productos de los disponibles en inventario*</mat-error>

  <div class="buttons">
    <app-primary-button styleClass="btn-red" class="btn" (btnClick)="onCancel()">Cancelar</app-primary-button>
    <app-primary-button class="btn" *ngIf="!disabled" (btnClick)="onSubmit()">Confirmar</app-primary-button>
  </div>
</div>
